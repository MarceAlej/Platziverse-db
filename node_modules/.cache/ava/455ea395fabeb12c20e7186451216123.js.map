{"version":3,"sources":["tests/agent-tests.js"],"names":["test","require","proxyquire","config","logging","MetricStub","belongsTo","AgentStub","db","beforeEach","hasMany","setupDatabase","t","truthy","Agent"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,KAAD,CAApB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,YAAD,CAA1B;;AAEA,MAAME,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE,YAAY,CAEpB;AAHY,CAAf;AAMA,MAAMC,UAAU,GAAG;AACjBC,EAAAA,SAAS,EAAE,YAAY,CAEtB;AAHgB,CAAnB;AAMA,IAAIC,SAAS,GAAG,IAAhB;AACA,IAAIC,EAAE,GAAG,IAAT;AAEAR,IAAI,CAACS,UAAL,CAAgB,YAAY;AAC1BF,EAAAA,SAAS,GAAG;AACVG,IAAAA,OAAO,EAAE,YAAY,CAAE;AADb,GAAZ;AAIA,QAAMC,aAAa,GAAGT,UAAU,CAAC,aAAD,EAAgB;AAC9C,sBAAkB,MAAMK,SADsB;AAE9C,uBAAmB,MAAMF;AAFqB,GAAhB,CAAhC;AAKAG,EAAAA,EAAE,GAAG,MAAMG,aAAa,CAACR,MAAD,CAAxB;AACD,CAXD;AAaAH,IAAI,CAAC,OAAD,EAAUY,CAAC,IAAI;AACjBA,EAAAA,CAAC,CAACC,MAAF,CAASL,EAAE,CAACM,KAAZ,EAAmB,4BAAnB;AACD,CAFG,CAAJ","sourceRoot":"/Users/marce/Desktop/Platzi/Platziverse-db","sourcesContent":["'use strict'\n\nconst test = require('ava')\nconst proxyquire = require('proxyquire')\n\nconst config = {\n  logging: function () {\n\n  }\n}\n\nconst MetricStub = {\n  belongsTo: function () {\n\n  }\n}\n\nlet AgentStub = null\nlet db = null\n\ntest.beforeEach(async () => {\n  AgentStub = {\n    hasMany: function () {}\n  }\n\n  const setupDatabase = proxyquire('../index.js', {\n    './models/agent': () => AgentStub,\n    './models/metric': () => MetricStub\n  })\n\n  db = await setupDatabase(config)\n})\n\ntest('Agent', t => {\n  t.truthy(db.Agent, 'Agent service should exist')\n})\n"]}